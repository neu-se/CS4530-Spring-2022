

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/CS4530-Spring-2022/assets/css/just-the-docs-default.css">

  

  
    <script src="/CS4530-Spring-2022/assets/js/vendor/lunr.min.js"></script>
  

  

  <script src="/CS4530-Spring-2022/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Assignment 3: Testing | CS4530, Spring 2022</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Assignment 3: Testing" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Northeastern University CS 4530 “Fundamentals of Software Engineering”, Spring 2022. Professors Jonathan Bell, Adeel Bhutta, Ferdinand Vesely and Mitch Wand." />
<meta property="og:description" content="Northeastern University CS 4530 “Fundamentals of Software Engineering”, Spring 2022. Professors Jonathan Bell, Adeel Bhutta, Ferdinand Vesely and Mitch Wand." />
<link rel="canonical" href="https://neu-se.github.io/CS4530-Spring-2022/assignments/hw3" />
<meta property="og:url" content="https://neu-se.github.io/CS4530-Spring-2022/assignments/hw3" />
<meta property="og:site_name" content="CS4530, Spring 2022" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Assignment 3: Testing" />
<script type="application/ld+json">
{"description":"Northeastern University CS 4530 “Fundamentals of Software Engineering”, Spring 2022. Professors Jonathan Bell, Adeel Bhutta, Ferdinand Vesely and Mitch Wand.","headline":"Assignment 3: Testing","dateModified":"2023-02-08T18:46:55+00:00","url":"https://neu-se.github.io/CS4530-Spring-2022/assignments/hw3","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  <div class="side-bar">
  <div class="site-header">
    <a href="/CS4530-Spring-2022/" class="site-title lh-tight">
  CS4530, Spring 2022

</a>
    <a href="#" id="menu-button" class="site-button">
      <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
    </a>
  </div>
  <nav aria-label="Main" id="site-nav" class="site-nav">
    
    
      <ul class="nav-list"><li class="nav-list-item"><a href="/CS4530-Spring-2022/calendar/" class="nav-list-link">Calendar</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Modules category">
            <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg>
          </a><a href="/CS4530-Spring-2022/modules/" class="nav-list-link">Modules</a><ul class="nav-list"><li class="nav-list-item "><a href="/CS4530-Spring-2022/modules/week1-overview-design-principles" class="nav-list-link">Week 1 - Overview and Design Principles</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/modules/week2-knowledge-sharing-design-doc" class="nav-list-link">Week 2 - Knowledge Sharing & Documenting Designs</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/modules/week3-processs" class="nav-list-link">Week 3 - Requirements, Process and Teams</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/modules/week4-async" class="nav-list-link">Week 4 - Async Programming and Debugging</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/modules/week5-testing" class="nav-list-link">Week 5 - Testing Intro, Unit Tests / Test Adequacy Measures</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/modules/week6-uidesign" class="nav-list-link">Week 6 - UI Design & React</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/modules/week7" class="nav-list-link">Week 7 - UI Testing + Pull Requests + Code Review</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/modules/week8" class="nav-list-link">Week 8 - Continuous Integration</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/modules/week9" class="nav-list-link">Week 9 - Distributed Systems & Static Program Analysis</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/modules/week10" class="nav-list-link">Week 10 - Software Engineering and Security</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/modules/week11" class="nav-list-link">Week 11 - Refactoring and Technical Debt</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/modules/week12" class="nav-list-link">Week 12 - Engineering Software For Equity</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander" aria-label="toggle links in Assignments category">
            <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg>
          </a><a href="/CS4530-Spring-2022/assignments/" class="nav-list-link">Assignments</a><ul class="nav-list"><li class="nav-list-item "><a href="/CS4530-Spring-2022/assignments/hw1" class="nav-list-link">Assignment 1: Venusians</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/assignments/hw2" class="nav-list-link">Assignment 2: Conversation Areas</a></li><li class="nav-list-item  active"><a href="/CS4530-Spring-2022/assignments/hw3" class="nav-list-link active">Assignment 3: Testing</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/assignments/hw4" class="nav-list-link">Assignment 4: Social Sidebar</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/assignments/project-overview" class="nav-list-link">Project Overview</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/assignments/project-pitch" class="nav-list-link">Project Pitch</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/assignments/project-plan" class="nav-list-link">Project Plan</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/Assignments/project-deliverable" class="nav-list-link">Project Final Deliverable</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/assignments/project-showcase" class="nav-list-link">Project Showcase</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Tutorials category">
            <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg>
          </a><a href="/CS4530-Spring-2022/tutorials/" class="nav-list-link">Tutorials</a><ul class="nav-list"><li class="nav-list-item "><a href="/CS4530-Spring-2022/tutorials/week1-getting-started" class="nav-list-link">Installing a Development Environment</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/tutorials/week6-react-basics" class="nav-list-link">React Tutorial</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/tutorials/week2-typescript-basics" class="nav-list-link">Typescript Basics</a></li><li class="nav-list-item "><a href="/CS4530-Spring-2022/tutorials/week5-unit-testing" class="nav-list-link">Unit Testing with Jest</a></li></ul></li><li class="nav-list-item"><a href="/CS4530-Spring-2022/textbooks/" class="nav-list-link">Textbooks</a></li><li class="nav-list-item"><a href="/CS4530-Spring-2022/staff/" class="nav-list-link">Staff</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Policies category">
            <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg>
          </a><a href="/CS4530-Spring-2022/policies/" class="nav-list-link">Policies</a><ul class="nav-list"><li class="nav-list-item "><a href="/CS4530-Spring-2022/policies/style/" class="nav-list-link">Code Style</a></li></ul></li><li class="nav-list-item"><a href="/CS4530-Spring-2022/resources/" class="nav-list-link">Other Resources</a></li></ul>
    
  </nav>

  
  
    <footer class="site-footer">
      This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  
</div>

  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search CS4530, Spring 2022" aria-label="Search CS4530, Spring 2022" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
</div>

    <div id="main-content-wrap" class="main-content-wrap">
      
  
    <nav aria-label="Breadcrumb" class="breadcrumb-nav">
      <ol class="breadcrumb-nav-list">
        
          <li class="breadcrumb-nav-list-item"><a href="/CS4530-Spring-2022/assignments/">Assignments</a></li>
        
        <li class="breadcrumb-nav-list-item"><span>Assignment 3: Testing</span></li>
      </ol>
    </nav>
  


      <div id="main-content" class="main-content" role="main">
        
          <h2 class="fs-6" id="assignment-3-testing">
  
  
    <a href="#assignment-3-testing" class="anchor-heading" aria-labelledby="assignment-3-testing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 
    
    Assignment 3: Testing
    
    <strong class="label label-red">Due Friday March 4, 10:00pm EST</strong>

  
  
</h2>
    
<h3 id="change-log">
  
  
    <a href="#change-log" class="anchor-heading" aria-labelledby="change-log"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Change Log
  
  
</h3>
    
<ul>
  <li>2/18/22: Initial Release</li>
  <li>2/18/22: Correct reference to <code class="language-plaintext highlighter-rouge">CoveyTownController.test.ts</code> - it is in <code class="language-plaintext highlighter-rouge">lib</code>, not <code class="language-plaintext highlighter-rouge">client</code></li>
  <li>2/27/22: Clarify that <code class="language-plaintext highlighter-rouge">createConversationForTesting</code> can not be used to create a conversation area with a <a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy">falsy</a> topic</li>
  <li>2/28/22: Clarify that unit tests are allowed to execute multiple methods in the code under test</li>
  <li>3/1/22: Add explanation to <em>not</em> spend any time trying to get stryker to run locally, or to understand its output; this is orthogonal to the goal of the assignment. Added hints for Jest syntax.</li>
</ul>

<p>Welcome back! We were very pleased to see your thorough implementation of the new conversation areas API. We are certain that this new design and implementation will be a solid foundation for Covey.Town in the years to come. Before we move on to implement the frontend portion of this feature, however, there is one last matter to discuss: testing.</p>

<p>Unfortunately, we are seeing a recurring pattern with Avery’s development practices: just like Avery’s first implementation of covey.town was poorly documented and structured… so are Avery’s tests. While we were able to use Avery’s tests to do some quality assurance on your conversation area implementation, we really do not want to rely on them going forward: they will be a nightmare for maintenance — they violate many of our test design principles, have duplicated code, and are quite brittle. Avery doesn’t know how to use mocks or spies very well, and struggles with writing focused unit tests.</p>

<p>Our lead test engineer, Ripley, has done some research into <a href="https://jestjs.io/docs/es6-class-mocks">Jest’s Mock and Spy API</a> and also found the <a href="https://github.com/marchaos/jest-mock-extended">Jest mock-extended package</a>. Ripley would like you to implement a new test suite for the Conversation Area feature - primarily unit tests that make use of mocks and spies. These tests will be quite useful in the coming months and years of the project, and will allow the rest of the team to maintain and enhance the conversation area feature as the overall system needs change.</p>

<p><strong>Clarification, 2/28</strong>: In order to effectively test some methods (like <code class="language-plaintext highlighter-rouge">updatePlayerLocation</code>), your tests might need to also invoke other methods (like <code class="language-plaintext highlighter-rouge">addConversationArea</code>). That is absolutely OK - these two methods rely on a shared agreement of how the conversation areas are stored in the controller, and in this case, calling <code class="language-plaintext highlighter-rouge">addCoversationArea</code> in a test for <code class="language-plaintext highlighter-rouge">updatePlayerLocation</code> is the best way to test <code class="language-plaintext highlighter-rouge">updatePlayerLocation</code>. You may find similar coupling between other methods — this is why we say that the definition of a “unit” test versus an “integration” test is lies somewhere on a broad spectrum, and “unit” is not precisely defined as “testing a single method of a single class”.</p>

<p>We will grade your tests on several criteria:</p>

<ul>
  <li>Do your tests pass on correct (non-buggy) code? (Checked automatically by GradeScope)</li>
  <li>Do your tests fail when run on buggy code? (Checked automatically by GradeScope)</li>
  <li>Are your tests qualitatively “good,” as defined in the week 5 lessons? (Checked manually)</li>
</ul>

<p>Based on past experiences, we project that this assignment could take you up to 18 hours (depending on your prior preparation). We encourage you to start early so that you can post questions on Piazza, make the most use of our TAs’ tutorials, and attend office hours as necessary in order to ensure that you can reach full marks across the board.</p>

<p>To get started, download the <a href="/CS4530-Spring-2022/Assignments/HW3/hw3-handout.zip">handout zip</a>.</p>
<h3 id="learning-objectives">
  
  
    <a href="#learning-objectives" class="anchor-heading" aria-labelledby="learning-objectives"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Learning Objectives
  
  
</h3>
    
<p>The objectives of this assignment are to:</p>
<ul>
  <li>Practice writing integration-level tests using TypeScript and Jest</li>
  <li>Practice writing unit tests using TypeScript and Jest, including techniques like spies and mocks</li>
  <li>Gain experience measuring test suite adequacy using mutation testing</li>
</ul>
<h3 id="grading">
  
  
    <a href="#grading" class="anchor-heading" aria-labelledby="grading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Grading
  
  
</h3>
    
<p>Your tests will automatically be evaluated for linter errors and warnings. Submissions that have <em>any</em> linter errors will automatically receive a grade of 0. <strong>Do not wait to run the linter until the last minute</strong>.</p>

<p>Your tests will be accepted by the autograder <em>only</em> if they have no linter errors/warnings, <em>and</em> if they all pass on the non-buggy conversation area implementation that we have provided in the handout.</p>

<p>Your tests will be graded based on their ability to detect injected faults, using the <a href="https://stryker-mutator.io/docs/stryker-js/introduction/">stryker mutation tool</a>. We have divided the test suite into five units; each unit will be graded inividually based on the number of mutants that your test suite detects. Each unit has a target number of mutants for you to detect, please note that several mutants might be “coupled” (that is, detecting one implies detecting the other), so you may find that a few well-designed tests with strong assertions will detect many mutants.</p>

<p><strong>IMPORTANT UPDATE 3/1/22</strong>: Are you interested in learning how mutation testing works? If so, then feel free to run Stryker yourself. Are you currently stressed for time, trying to get through this assignment? <strong>Do not try to run stryker, and do not try to understand its output</strong>. Your objective is to write tests that detect bugs in the HW2 implementation that is included in this handout. You should do this by referring to the specification for HW2, and consider all of the different boundary cases (particularly error cases). Submit your code to GradeScope, and it will tell you if you find all of the bugs.</p>

<p>Your code will be manually evaluated for conformance to our course <a href="/CS4530-Spring-2022/policies/style/">style guide</a>. This manual evaluation will account for 10% of your total grade on this assignment. We will manually evaluate your code for style on the following rubric:</p>

<p>To receive all 10 points:</p>
<ul>
  <li>All new names (e.g. for local variables, methods, and properties) follow the naming conventions defined in our style guide</li>
  <li>Your tests should primarily be written as unit tests (directly testing the specified code units), rather than integration tests</li>
  <li>Your tests are structured in a meaningful manner, with tests for the same unit nested within a shared <code class="language-plaintext highlighter-rouge">describe</code> block.</li>
  <li>The code that you write generally follows the design principles discussed in week one. In particular, your design does not have duplicated code that could have been refactored into a shared method, including common test code that could be refactored into a <code class="language-plaintext highlighter-rouge">beforeEach</code> or <code class="language-plaintext highlighter-rouge">beforeAll</code>.</li>
</ul>

<p>We will review your code and note each violation of this rubric. We will deduct two points for each violation, up to a maximum of deducting all 10 style points.</p>
<h3 id="general-requirements">
  
  
    <a href="#general-requirements" class="anchor-heading" aria-labelledby="general-requirements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> General Requirements
  
  
</h3>
    
<p><strong>This is an individual assignment.</strong></p>

<p>Please post any questions about this assignment on Piazza. We have many sections of this class, and we want to make sure that we respond to your questions the same way, regardless of which section you are in.</p>

<p>You must implement all unit tests for <code class="language-plaintext highlighter-rouge">CoveyTownController</code> in the file <code class="language-plaintext highlighter-rouge">src/lib/CoveyTownController.test.ts</code>, and all other tests in the file <code class="language-plaintext highlighter-rouge">src/client/CoveyTownConversationAPI.test.ts</code>.
Please feel free to remove or modify any existing conversation area tests in these files.</p>

<p>You may add additional helper methods to these files, and you may add <code class="language-plaintext highlighter-rouge">beforeEach</code>, <code class="language-plaintext highlighter-rouge">beforeAll</code>, <code class="language-plaintext highlighter-rouge">afterEach</code>, or <code class="language-plaintext highlighter-rouge">afterAll</code> to these test suites. If you would like to create shared utilities for your tests, you may implement them in the file <code class="language-plaintext highlighter-rouge">src/client/TestUtils.ts</code>.
Your tests must be fully contained within these test files and <code class="language-plaintext highlighter-rouge">TestUtils.ts</code> - when they run on GradeScope, we will copy only these files out of your submission to grade.</p>

<p>You may implement your test suite in any order that you would like, but we provide a suggested ordering in the assignment.</p>

<p>A helpful debugging strategy for writing effective tests is to manually inject some fault into the code under test, and then modify your test until it fails on this buggy code. This process is much faster than running a complete mutation analysis. However, if you would like to run the mutation analysis before submitting to GradeScope, you can do so by using the command <code class="language-plaintext highlighter-rouge">npx stryker run</code> in the project directory. After several minutes, a report will be generated to <code class="language-plaintext highlighter-rouge">reports/mutation/html/index.html</code> - you can open this report in your browser and see which mutants are not “killed” (the words “detected” and “killed” are used interchangably to refer to mutants that your test suite identifies as bugs; we prefer the term “detected”). You may notice that there could be additional defects that would not be represented by a mutation. Your tests will not be graded on their ability to detect any defects other than the mutations specified.</p>

<p>You may not make changes to <code class="language-plaintext highlighter-rouge">package.json</code> or to the lint configuration. You may not use <code class="language-plaintext highlighter-rouge">ts-ignore</code> or <code class="language-plaintext highlighter-rouge">eslint-disable</code> annotations.</p>

<p>Jest might also report the following message after running some tests:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Jest did not exit one second after the test run has completed.
 
 This usually means that there are asynchronous operations that weren't stopped in your tests. Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.
</code></pre></div></div>

<p>Ripley and Avery can’t figure out how to get rid of this, and it’s mostly harmless. Please ignore it, although if you do happen to figure out a fix, please feel free to let us know so that we can share it with Ripley and Avery!</p>
<h3 id="general-jest-hints">
  
  
    <a href="#general-jest-hints" class="anchor-heading" aria-labelledby="general-jest-hints"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> General Jest Hints
  
  
</h3>
    
<p>If you would like to mock a request handler, this is the easiest syntax to use:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">requestHandlers</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../requestHandlers/CoveyTownRequestHandlers</span><span class="dl">'</span><span class="p">;</span>
<span class="p">...</span>

<span class="nx">jest</span><span class="p">.</span><span class="nx">spyOn</span><span class="p">(</span><span class="nx">requestHandlers</span><span class="p">,</span> <span class="dl">'</span><span class="s1">nameOfRequestHandler</span><span class="dl">'</span><span class="p">).</span><span class="nx">mock</span><span class="p">...</span>
</code></pre></div></div>

<p>If you need to expect that some async function throws an error, you may find the <a href="https://jestjs.io/docs/tutorial-async#rejects">jest reference on error handling</a> to be useful.</p>

<p>Please feel free to post general questions about Jest usage as public posts on Piazza.</p>
<h3 id="testing-coveytowncontrollerdestroysession-5-points">
  
  
    <a href="#testing-coveytowncontrollerdestroysession-5-points" class="anchor-heading" aria-labelledby="testing-coveytowncontrollerdestroysession-5-points"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing CoveyTownController.destroySession (5 points)
  
  
</h3>
    
<p><a href="/CS4530-Spring-2022/assignments/hw2#task-22-remove-participants-from-conversation-area-if-they-disconnect-10-points">HW2 Part 2.2</a> describes that when a player’s session is destroyed, they should be removed from the conversation area. This test is a great place to start. Take a look at the tests at the bottom of <code class="language-plaintext highlighter-rouge">CoveyTownController.test.ts</code> for examples of unit tests for similar functionality. <em>Hint:</em> You may be able to reuse many of the mocking patterns that already exist in this test suite.</p>

<p>Bug detection thresholds:</p>
<ul>
  <li>Detect 1 bug - 5 points</li>
</ul>
<h3 id="testing-coveytowncontrollerupdateplayerlocation-30-points">
  
  
    <a href="#testing-coveytowncontrollerupdateplayerlocation-30-points" class="anchor-heading" aria-labelledby="testing-coveytowncontrollerupdateplayerlocation-30-points"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing CoveyTownController.updatePlayerLocation (30 points)
  
  
</h3>
    
<p><a href="/CS4530-Spring-2022/assignments/hw2#part-2-completing-the-townservice-responsibilities-30-points-total">HW2 Part 2.1</a> describes the expected behavior for <code class="language-plaintext highlighter-rouge">updatePlayerLocation</code>. Implement a suite of tests that directly call this method and check for the specification.</p>

<p>Bug detection thresholds:</p>
<ul>
  <li>Detect 20 bugs: 10 points</li>
  <li>Detect 24 bugs: 22 points</li>
  <li>Detect 26 bugs: 30 points</li>
</ul>
<h3 id="testing-coveytowncontrolleraddconversationarea-35-points">
  
  
    <a href="#testing-coveytowncontrolleraddconversationarea-35-points" class="anchor-heading" aria-labelledby="testing-coveytowncontrolleraddconversationarea-35-points"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing CoveyTownController.addConversationArea (35 points)
  
  
</h3>
    
<p><a href="/CS4530-Spring-2022/assignments/hw2#task-12b-addconversationarea-30-points">HW2 Part 1.2b</a> describes the expected behavior for <code class="language-plaintext highlighter-rouge">addConversationArea</code>. Implement a suite of tests that directly call this method and check for the specification.</p>

<p><em>Hint (added 2/27/22)</em>: The implementation of <code class="language-plaintext highlighter-rouge">createConversationForTesting</code> that we have provided you can not be used to create a conversation area object with a <a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy">falsy</a> topic or label, due to the line <code class="language-plaintext highlighter-rouge">topic: params?.conversationTopic || nanoid()</code>. Feel free to modify this method, or to modify one of the properties of the returned object.</p>

<p>Bug detection thresholds:</p>
<ul>
  <li>Detect 47 bugs: 10 points</li>
  <li>Detect 62 bugs: 25 points</li>
  <li>Detect 70 bugs: 35 points</li>
</ul>
<h3 id="testing-coveytownrequesthandlersconversationareacreatehandler-10-points">
  
  
    <a href="#testing-coveytownrequesthandlersconversationareacreatehandler-10-points" class="anchor-heading" aria-labelledby="testing-coveytownrequesthandlersconversationareacreatehandler-10-points"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing CoveyTownRequestHandlers.conversationAreaCreateHandler (10 points)
  
  
</h3>
    
<p><a href="/CS4530-Spring-2022/assignments/hw2#task-12a-conversationareacreatehandler-15-points">HW2 Part 1.2a</a> describes the expected behavior for <code class="language-plaintext highlighter-rouge">conversationAreaCreateHandler</code>. Implement a suite of tests that directly call this method and check for the specification. Ripley has porvided a helpful starter test in <code class="language-plaintext highlighter-rouge">CoveyTownConversationAPI.test.ts</code> - feel free to modify or extend this test (or delete it, if you do not find it useful).</p>

<p>Bug detection thresholds:</p>
<ul>
  <li>Detect 3 bugs: 5 points</li>
  <li>Detect 4 bugs: 10 points</li>
</ul>
<h3 id="testing-townsts-post-route-for-townstownidconversationareas-10-points">
  
  
    <a href="#testing-townsts-post-route-for-townstownidconversationareas-10-points" class="anchor-heading" aria-labelledby="testing-townsts-post-route-for-townstownidconversationareas-10-points"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing Towns.ts POST route for /towns/:townID/conversationAreas (10 points)
  
  
</h3>
    
<p>With all of the individual components for adding conversation areas unit tested, your last step is to write some integration tests that can check that the REST service is correctly implemented. You can find an example of this kind of test in <code class="language-plaintext highlighter-rouge">CoveyTownConverationAPI.test.ts</code>. These tests likely need only check that the error messages and HTTP status codes specified in <a href="/CS4530-Spring-2022/assignments/hw2#task-11-add-an-http-route-to-create-conversation-areas-5-points">HW2 Part 1.1</a> are correctly implemented.
Bug detection thresholds:</p>
<ul>
  <li>Detect 2 bugs: 10 points</li>
</ul>
<h2 id="submission-instructions">
  
  
    <a href="#submission-instructions" class="anchor-heading" aria-labelledby="submission-instructions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Submission Instructions
  
  
</h2>
    
<p>Submit your assignment in GradeScope. The easiest way to get into GradeScope the first time is to first
<a href="https://northeastern.instructure.com/courses/99531">sign into Canvas</a> and then click the link on our course for “GradeScope”. 
You should then also have the option to create an account on GradeScope (if you don’t already have one) so that you can log in to GradeScope directly.
Please contact the instructors immediately if you have difficulty accessing the course on GradeScope.</p>

<p>To submit your assignment: upload <em>only</em> the files <code class="language-plaintext highlighter-rouge">src/lib/CoveyTownController.test.ts</code>, <code class="language-plaintext highlighter-rouge">src/client/CoveyTownConversationAPI.test</code> and <code class="language-plaintext highlighter-rouge">src/client/TestUtils.ts</code>. GradeScope will provide you with feedback on your submission, but note that it will <em>not</em> include any marks that will be assigned after we manually grade your submission for code style (it will show 0 for this until it is graded).</p>

<p>Note about GradeScope run times: GradeScope’s technical team has confirmed that there are currently bugs in their system that can result in the system taking 15-20 minutes to allocate a docker container to run our autograder in. There is nothing that we can do to improve this, other than to hope that they resolve this for a future semester, or to use another grading platform in that future semester. Please be patient, and particularly late at night, do not expect that you will be able to get instantaneous results - this bug is exacerbated by a lack of any feedback that is available to you to indicate that it is still waiting, but is nonetheless making progress.</p>

        

        

        

  <hr>
  <footer>
    

    <p class="text-small text-grey-dk-100 mb-0">&copy; 2022 Jonathan Bell, Adeel Bhutta, Ferdinand Vesely and Mitch Wand. Released under the <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA</a> license</p>

    
  </footer>



      </div>
    </div>
    
      

<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

